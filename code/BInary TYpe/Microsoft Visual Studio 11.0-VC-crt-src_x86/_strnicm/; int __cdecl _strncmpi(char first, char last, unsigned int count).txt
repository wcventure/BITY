; int __cdecl _strncmpi(char first, char last, unsigned int count)
_strncmpi@@YAHPAD0I@Z proc near        ; CODE XREF _main+21p

result          = dword ptr -0Ch
l               = dword ptr -8
f               = dword ptr -4
first           = dword ptr  8
last            = dword ptr  0Ch
count           = dword ptr  10h

                push    ebp
                mov     ebp, esp
                sub     esp, 4Ch
                push    ebx
                push    esi
                push    edi
                mov     [ebp+result], 0
                cmp     [ebp+count], 0
                jz      short loc_401076

loc_401016                             ; CODE XREF _strncmpi(char ,char ,uint)+6Bj
                mov     eax, [ebp+first]
                movsx   ecx, byte ptr [eax]
                push    ecx             ; C
                call    ds__imp__tolower
                add     esp, 4
                mov     [ebp+f], eax
                mov     eax, [ebp+last]
                movsx   ecx, byte ptr [eax]
                push    ecx             ; C
                call    ds__imp__tolower
                add     esp, 4
                mov     [ebp+l], eax
                mov     eax, [ebp+first]
                add     eax, 1
                mov     [ebp+first], eax
                mov     eax, [ebp+last]
                add     eax, 1
                mov     [ebp+last], eax
                mov     eax, [ebp+count]
                sub     eax, 1
                mov     [ebp+count], eax
                jz      short loc_40106D
                cmp     [ebp+f], 0
                jz      short loc_40106D
                cmp     [ebp+l], 0
                jz      short loc_40106D
                mov     eax, [ebp+f]
                cmp     eax, [ebp+l]
                jz      short loc_401016

loc_40106D                             ; CODE XREF _strncmpi(char ,char ,uint)+57j
                                        ; _strncmpi(char ,char ,uint)+5Dj ...
                mov     eax, [ebp+f]
                sub     eax, [ebp+l]
                mov     [ebp+result], eax

loc_401076                             ; CODE XREF _strncmpi(char ,char ,uint)+14j
                mov     eax, [ebp+result]
                pop     edi
                pop     esi
                pop     ebx
                mov     esp, ebp
                pop     ebp
                retn
_strncmpi@@YAHPAD0I@Z endp
